"use strict";exports.id=584,exports.ids=[584],exports.modules={8584:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.d(a,{Z:()=>u});var t=r(997),l=r(6689),i=r(6593),n=r(5658),o=r(9976),d=r(4562),c=r(2489),v=e([i,n,o,d,c]);[i,n,o,d,c]=v.then?(await v)():v;let u=({threadId:e,recipientUser:a})=>{let[r,s]=(0,l.useState)([]),[c,v]=(0,l.useState)(""),[u,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1),p=(0,l.useRef)(null),f=(0,l.useRef)(null),g=[{id:1,senderId:a?.id,senderName:a?.name,content:"Hey! I love your latest character design. Would you be interested in collaborating on a game project?",timestamp:new Date(Date.now()-3e5),status:"delivered"},{id:2,senderId:"current-user",senderName:"You",content:"Thanks! I'd love to hear more about it. What kind of game?",timestamp:new Date(Date.now()-24e4),status:"read"},{id:3,senderId:a?.id,senderName:a?.name,content:"It's an indie RPG about time travel. I need character concepts for the main protagonists.",timestamp:new Date(Date.now()-18e4),status:"delivered"}];(0,l.useEffect)(()=>{s(g)},[e]),(0,l.useEffect)(()=>{b()},[r]);let b=()=>{p.current?.scrollIntoView({behavior:"smooth"})},y=async e=>{if(e.preventDefault(),!c.trim())return;let a={id:Date.now(),senderId:"current-user",senderName:"You",content:c,timestamp:new Date,status:"sending"};s(e=>[...e,a]),v(""),m(!0);try{await new Promise(e=>setTimeout(e,500)),s(e=>e.map(e=>e.id===a.id?{...e,status:"delivered"}:e))}catch(e){s(e=>e.map(e=>e.id===a.id?{...e,status:"failed"}:e))}finally{m(!1)}},j=e=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(e);return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-[var(--spacing-4)] border-b border-[var(--color-neutral-200)]",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-[var(--spacing-3)]",children:[t.jsx(n.Z,{src:a?.avatar,alt:a?.name,size:"sm"}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-[var(--font-size-lg)] font-semibold text-[var(--color-neutral-900)]",children:a?.name}),t.jsx("p",{className:"text-[var(--font-size-sm)] text-[var(--color-neutral-500)]",children:a?.isOnline?"Online":"Last seen 2m ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-[var(--spacing-2)]",children:[t.jsx(o.Z,{variant:"ghost",size:"sm","aria-label":"Voice call",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),t.jsx(o.Z,{variant:"ghost",size:"sm","aria-label":"Video call",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-[var(--spacing-4)] space-y-[var(--spacing-4)]",children:[r.map(e=>t.jsx("div",{className:(0,i.default)("flex","current-user"===e.senderId?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:(0,i.default)("max-w-xs lg:max-w-md px-[var(--spacing-4)] py-[var(--spacing-3)] rounded-[var(--radius-lg)]","current-user"===e.senderId?"bg-[var(--color-primary-600)] text-white rounded-br-[var(--radius-sm)]":"bg-[var(--color-neutral-100)] text-[var(--color-neutral-900)] rounded-bl-[var(--radius-sm)]"),children:[t.jsx("p",{className:"text-[var(--font-size-base)] leading-relaxed",children:e.content}),(0,t.jsxs)("div",{className:(0,i.default)("flex items-center justify-between mt-[var(--spacing-2)] text-[var(--font-size-xs)]","current-user"===e.senderId?"text-white/70":"text-[var(--color-neutral-500)]"),children:[t.jsx("span",{children:j(e.timestamp)}),"current-user"===e.senderId&&(0,t.jsxs)("span",{className:"ml-[var(--spacing-2)]",children:["sending"===e.status&&"⏳","delivered"===e.status&&"✓","read"===e.status&&"✓✓","failed"===e.status&&"❌"]})]})]})},e.id)),h&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-[var(--color-neutral-100)] px-[var(--spacing-4)] py-[var(--spacing-3)] rounded-[var(--radius-lg)] rounded-bl-[var(--radius-sm)]",children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-2 h-2 bg-[var(--color-neutral-400)] rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-[var(--color-neutral-400)] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-[var(--color-neutral-400)] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),t.jsx("div",{ref:p})]}),t.jsx("div",{className:"border-t border-[var(--color-neutral-200)] p-[var(--spacing-4)]",children:(0,t.jsxs)("form",{onSubmit:y,className:"flex items-end space-x-[var(--spacing-3)]",children:[t.jsx("div",{className:"flex-1",children:t.jsx(d.Z,{ref:f,placeholder:"Type a message...",value:c,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y(e))}})}),(0,t.jsxs)("div",{className:"flex items-center space-x-[var(--spacing-2)]",children:[t.jsx(o.Z,{type:"button",variant:"ghost",size:"sm","aria-label":"Attach file",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),t.jsx(o.Z,{type:"button",variant:"ghost",size:"sm","aria-label":"Add emoji",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx(o.Z,{type:"submit",variant:"primary",size:"sm",disabled:!c.trim(),loading:u,children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})})]})};s()}catch(e){s(e)}})},5658:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.d(a,{Z:()=>n});var t=r(997);r(6689);var l=r(6593),i=e([l]);l=(i.then?(await i)():i)[0];let n=({src:e,alt:a,size:r="base",fallback:s,className:i,...n})=>{let o=`
    inline-flex items-center justify-center rounded-[var(--radius-full)] 
    bg-[var(--color-neutral-200)] text-[var(--color-neutral-600)] font-medium
    overflow-hidden
  `;return(0,t.jsxs)("div",{className:(0,l.default)(o,{xs:"h-6 w-6 text-[var(--font-size-xs)]",sm:"h-8 w-8 text-[var(--font-size-sm)]",base:"h-12 w-12 text-[var(--font-size-base)]",lg:"h-16 w-16 text-[var(--font-size-lg)]",xl:"h-20 w-20 text-[var(--font-size-xl)]","2xl":"h-24 w-24 text-[var(--font-size-2xl)]"}[r],i),...n,children:[e?t.jsx("img",{src:e,alt:a||"Avatar",className:"h-full w-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,t.jsx("span",{className:(0,l.default)("flex items-center justify-center h-full w-full",e?"hidden":"flex"),children:s||(a?a.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"?")})]})};s()}catch(e){s(e)}})},9976:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.d(a,{Z:()=>c});var t=r(997),l=r(6689),i=r.n(l),n=r(6593),o=e([n]);n=(o.then?(await o)():o)[0];let d=i().forwardRef(({children:e,variant:a="primary",size:r="base",disabled:s=!1,loading:l=!1,className:i,...o},d)=>{let c=`
    inline-flex items-center justify-center font-medium transition-all duration-[var(--duration-fast)]
    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary-500)] focus-visible:ring-offset-2
    disabled:opacity-50 disabled:cursor-not-allowed
  `,v={primary:`
      bg-[var(--color-primary-600)] text-white
      hover:bg-[var(--color-primary-700)] hover:shadow-md hover:scale-[1.02]
      active:bg-[var(--color-primary-800)] active:scale-[0.98]
    `,secondary:`
      bg-[var(--color-neutral-100)] text-[var(--color-neutral-900)] border border-[var(--color-neutral-300)]
      hover:bg-[var(--color-neutral-200)] hover:shadow-sm hover:scale-[1.02]
      active:bg-[var(--color-neutral-300)] active:scale-[0.98]
    `,ghost:`
      bg-transparent text-[var(--color-primary-600)]
      hover:bg-[var(--color-primary-50)] hover:text-[var(--color-primary-700)]
      active:bg-[var(--color-primary-100)]
    `,gradient:`
      bg-gradient-to-r from-[var(--color-primary-600)] to-[var(--color-secondary-600)] text-white
      hover:shadow-lg hover:scale-[1.02]
      active:scale-[0.98]
    `};return(0,t.jsxs)("button",{ref:d,disabled:s||l,className:(0,n.default)(c,v[a],{sm:"px-[var(--spacing-3)] py-[var(--spacing-2)] text-[var(--font-size-sm)] rounded-[var(--radius-sm)]",base:"px-[var(--spacing-4)] py-[var(--spacing-3)] text-[var(--font-size-base)] rounded-[var(--radius-base)]",lg:"px-[var(--spacing-6)] py-[var(--spacing-4)] text-[var(--font-size-lg)] rounded-[var(--radius-md)]"}[r],i),...o,children:[l&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})});d.displayName="Button";let c=d;s()}catch(e){s(e)}})},2489:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.d(a,{Z:()=>n});var t=r(997);r(6689);var l=r(6593),i=e([l]);l=(i.then?(await i)():i)[0];let n=({children:e,variant:a="default",padding:r="base",hover:s=!1,className:i,...n})=>{let o=`
    bg-white rounded-[var(--radius-lg)] border border-[var(--color-neutral-200)]
    transition-all duration-[var(--duration-fast)]
  `,d={default:"shadow-[var(--shadow-sm)]",elevated:"shadow-[var(--shadow-md)]",interactive:`
      shadow-[var(--shadow-sm)] cursor-pointer
      hover:shadow-[var(--shadow-md)] hover:scale-[1.02] hover:-translate-y-1
    `},c=s?d.interactive:d[a];return t.jsx("div",{className:(0,l.default)(o,c,{none:"",sm:"p-[var(--spacing-4)]",base:"p-[var(--spacing-6)]",lg:"p-[var(--spacing-8)]"}[r],i),...n,children:e})};s()}catch(e){s(e)}})},4562:(e,a,r)=>{r.a(e,async(e,s)=>{try{r.d(a,{Z:()=>c});var t=r(997),l=r(6689),i=r.n(l),n=r(6593),o=e([n]);n=(o.then?(await o)():o)[0];let d=i().forwardRef(({label:e,error:a,helperText:r,type:s="text",size:l="base",className:i,...o},d)=>{let c=`
    w-full border transition-all duration-[var(--duration-fast)]
    focus:outline-none focus:ring-2 focus:ring-[var(--color-primary-500)] focus:border-[var(--color-primary-500)]
    disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-[var(--color-neutral-100)]
    placeholder:text-[var(--color-neutral-400)]
  `,v={default:`
      border-[var(--color-neutral-300)] bg-white text-[var(--color-neutral-900)]
      hover:border-[var(--color-neutral-400)]
    `,error:`
      border-[var(--color-error)] bg-white text-[var(--color-neutral-900)]
      focus:ring-[var(--color-error)] focus:border-[var(--color-error)]
    `},u=o.id||`input-${Math.random().toString(36).substr(2,9)}`;return(0,t.jsxs)("div",{className:"w-full",children:[e&&t.jsx("label",{htmlFor:u,className:"block text-[var(--font-size-sm)] font-medium text-[var(--color-neutral-700)] mb-[var(--spacing-2)]",children:e}),t.jsx("input",{ref:d,id:u,type:s,className:(0,n.default)(c,a?v.error:v.default,{sm:"px-[var(--spacing-3)] py-[var(--spacing-2)] text-[var(--font-size-sm)] rounded-[var(--radius-sm)]",base:"px-[var(--spacing-4)] py-[var(--spacing-3)] text-[var(--font-size-base)] rounded-[var(--radius-base)]",lg:"px-[var(--spacing-5)] py-[var(--spacing-4)] text-[var(--font-size-lg)] rounded-[var(--radius-md)]"}[l],i),"aria-invalid":a?"true":"false","aria-describedby":a?`${u}-error`:r?`${u}-helper`:void 0,...o}),a&&t.jsx("p",{id:`${u}-error`,className:"mt-[var(--spacing-2)] text-[var(--font-size-sm)] text-[var(--color-error)]",role:"alert",children:a}),r&&!a&&t.jsx("p",{id:`${u}-helper`,className:"mt-[var(--spacing-2)] text-[var(--font-size-sm)] text-[var(--color-neutral-500)]",children:r})]})});d.displayName="Input";let c=d;s()}catch(e){s(e)}})}};