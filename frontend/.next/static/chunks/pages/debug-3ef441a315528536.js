(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{2786:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return o(307)}])},307:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return s}});var t=o(5893),r=o(8189),i=o(7294);function s(){let{user:e,profile:n,loading:o,token:s}=(0,r.a)(),[l,a]=(0,i.useState)(null);(0,i.useEffect)(()=>{a(localStorage.getItem("token"))},[]);let c=async()=>{try{let e=await fetch("http://127.0.0.1:8000/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"testpass123"})}),n=await e.json();console.log("Login response:",n),n.token&&(localStorage.setItem("token",n.token),window.location.reload())}catch(e){console.error("Login error:",e)}};return(0,t.jsxs)("div",{style:{padding:"2rem",fontFamily:"monospace"},children:[(0,t.jsx)("h1",{children:"Debug Session State"}),(0,t.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,t.jsx)("h2",{children:"Current State:"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Loading:"})," ",o?"true":"false"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User:"})," ",e?"".concat(e.email," (").concat(e.id,")"):"NULL"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Profile:"})," ",n?"".concat(n.user_email," (ID: ").concat(n.id,")"):"NULL"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Token in Context:"})," ",s?"Present":"NULL"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Token in localStorage:"})," ",l||"NULL"]})]}),(0,t.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,t.jsx)("button",{onClick:c,style:{padding:"0.5rem 1rem",marginRight:"1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px"},children:"Test Login"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),window.location.reload()},style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px"},children:"Clear Storage"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"Navigation:"}),(0,t.jsx)("a",{href:"/dashboard",style:{color:"#007bff",textDecoration:"underline"},children:"Go to Dashboard"})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2786)}),_N_E=e.O()}]);